{"version":3,"sources":["../../../app/service/deploy.js"],"names":["module","exports","mall_name","ctx","query","start_date","end_date","app","knex","column","select","from","where","andWhere","result","Service"],"mappings":"AAAA;;;;;;;;;;AAEAA,OAAOC,OAAP,GAAiB,eAAO;AACpB;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEWC,yCAFX,GAEuB,KAAKC,GAAL,CAASC,KAAT,CAAeF,SAAf,IAA4B,QAFnD;AAGWG,0CAHX,GAGwB,KAAKF,GAAL,CAASC,KAAT,CAAeC,UAAf,IAA6B,UAHrD;AAIWC,wCAJX,GAIsB,KAAKH,GAAL,CAASC,KAAT,CAAeE,QAAf,IAA2B,UAJjD;AAAA;AAAA,uCAK4B,KAAKC,GAAL,CAASC,IAAT,CACbC,MADa,CACN,gBADM,EACW,MADX,EACkB,UADlB,EAC6B,YAD7B,EAC0C,UAD1C,EAEbC,MAFa,GAEJC,IAFI,CAEC,uBAFD,EAGbC,KAHa,CAGP,WAHO,EAGKV,SAHL,EAIbW,QAJa,CAIJ,gBAJI,EAIa,IAJb,EAImBR,UAJnB,EAKbQ,QALa,CAKJ,gBALI,EAKa,IALb,EAKmBP,QALnB,CAL5B;;AAAA;AAKaQ,sCALb;AAAA,iEAWeA,MAXf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAc2B,KAAKP,GAAL,CAASC,IAAT,CAAcC,MAAd,CAAqB,WAArB,EAAkCC,MAAlC,GAA2CC,IAA3C,CAAgD,iBAAhD,CAd3B;;AAAA;AAcYG,sCAdZ;AAAA,kEAeaA,MAfb;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,MAA0BP,IAAIQ,OAA9B;AAqBH,CAtBD","file":"deploy.js","sourcesContent":["'use strict';\n\nmodule.exports = app => {\n    return class User extends app.Service {\n        * device_cnt_bill_cnt() {\n           var mall_name = this.ctx.query.mall_name || '上海正大广场';\n           var start_date = this.ctx.query.start_date || '20170501';\n           var end_date = this.ctx.query.end_date || '20171011';\n           const result = yield this.app.knex\n           \t\t\t\t\t\t\t.column('week_first_day','cat1','shop_cnt','device_cnt','bill_cnt')\n           \t\t\t\t\t\t\t.select().from('dy_active_device_cat1')\n           \t\t\t\t\t\t\t.where('mall_name',mall_name)\n           \t\t\t\t\t\t\t.andWhere('week_first_day','>=', start_date)\n           \t\t\t\t\t\t\t.andWhere('week_first_day','<=', end_date);\n           \treturn result;\n        }\n        * device_by_mall_name() {\n          const result = yield this.app.knex.column('mall_name').select().from('dy_organization');\n          return result; \n        }\n        * push() {\n            \n        }\n    };\n};\n"]}